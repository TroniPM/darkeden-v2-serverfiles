//////////////////////////////////////////////////////////////////////////////
// Filename    : EffectAutoTurret.cpp
// Written by  : bezz
//////////////////////////////////////////////////////////////////////////////

#include "EffectTiffaugesRealWorldLeftUP.h"
#include "Zone.h"
#include "Tile.h"
#include "ZoneUtil.h"

//////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////
EffectTiffaugesRealWorldLeftUP::EffectTiffaugesRealWorldLeftUP( Zone* pZone, ZoneCoord_t X, ZoneCoord_t Y )
	
{
	__BEGIN_TRY

	m_pZone = pZone;
	m_X = X;
	m_Y = Y;

	__END_CATCH
}

//////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////
void EffectTiffaugesRealWorldLeftUP::affect()
	
{
	__BEGIN_TRY

	Assert( m_pZone != NULL );

	affect( m_pZone, m_X, m_Y );
	
	__END_CATCH
}

//////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////
void EffectTiffaugesRealWorldLeftUP::affect(Zone* pZone, ZoneCoord_t Cx, ZoneCoord_t Cy)
	
{
	__BEGIN_TRY

	__END_CATCH
}

//////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////
void EffectTiffaugesRealWorldLeftUP::unaffect()
	
{
	__BEGIN_TRY

	Assert( m_pZone != NULL );

	/*for(int i=0; i <= 3; i++){
		for(int s=0; s<3; s++){
			m_pZone->getTile(m_X+i, m_Y-s).clearBlocked(Creature::MOVE_MODE_WALKING);
		}
	}*/

	Tile& tile = m_pZone->getTile( m_X, m_Y );
	tile.deleteEffect( m_ObjectID );
	
	__END_CATCH
}

//////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////
string EffectTiffaugesRealWorldLeftUP::toString() const 
	
{
	__BEGIN_TRY

	StringStream msg;
	msg << "EffectTiffaugesRealWorldLeftUP("
		<< ")";
	return msg.toString();

	__END_CATCH
}

