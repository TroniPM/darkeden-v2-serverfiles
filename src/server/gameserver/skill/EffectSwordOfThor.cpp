//////////////////////////////////////////////////////////////////////////////
// Filename    : EffectSwordOfThor.cpp
// Written by  : bezz
//////////////////////////////////////////////////////////////////////////////

#include "EffectSwordOfThor.h"
#include "Tile.h"
#include "Zone.h"

//////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////
EffectSwordOfThor::EffectSwordOfThor( Zone* pZone, ZoneCoord_t X, ZoneCoord_t Y )
	throw(Error)
{
	__BEGIN_TRY

	m_pZone = pZone;
	m_X = X;
	m_Y = Y;

	__END_CATCH
}

//////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////
void EffectSwordOfThor::unaffect()
	throw(Error)
{
	__BEGIN_TRY

	Tile& tile = m_pZone->getTile( m_X, m_Y );
	tile.deleteEffect( m_ObjectID );
	
	__END_CATCH
}

//////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////
string EffectSwordOfThor::toString() const 
	throw()
{
	__BEGIN_TRY

	StringStream msg;
	msg << "EffectSwordOfThor("
		<< "Level:" << (int)m_Level
		<< ")";
	return msg.toString();

	__END_CATCH
}

